services:
  - type: web
    name: linklock-backend
    env: python
    region: oregon        # or frankfurt if closer
    plan: free            # start with free; upgrade if needed
    branch: main          # deploy on pushes to main branch
    buildCommand: pip install -r requirements.txt
    startCommand: ./start.sh

    # Environment Variables (stored safely in Render dashboard)
    envVars:
      - key: MONGO_URI
        sync: false
      - key: REDIS_URL
        sync: false
      - key: SECRET_KEY
        sync: false
      - key: MODEL_PATH
        sync: false

    runtime:
      pythonVersion: 3.10  # or 3.11 if you're using that

    autoDeploy: true        # auto updates on git push

# Optional: If you want render to create a Redis instance automatically
databases:
  - name: linklock-redis
    plan: free
    ipAllowList: []         # Allow all
